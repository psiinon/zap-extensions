<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
Revisit
</title>
</head>
<body>
<h1>Revisit</h1>
<p>
ZAPでテストしたアプリケーションを、過去の特定の時点の状態で閲覧したいと思ったことはありませんか？例えば、そのアプリケーションにアクセスできなくなった後や、変更が加えられた後など。<br>
そのような場合に、このアドオンが役立ちます！
</p>

<p>
このアドオンを使用すると、リクエストをサイトに転送する代わりに、指定した期間のZAP履歴からコンテンツを返すようZAPに指示できます。<br>
これにより、アクセスできなくなったWebサイトを閲覧したり使用したりできるようになります。<br>
また、特定の時間帯にどのように見えていたかを確認することもできます。これは、アプリケーションがその後変更された場合に役立ちます。
</p>

<p>
ZAP履歴からページを返す際、これらのページがZAPから生成されたものであることを示す視覚的な手がかりとして、フローティングフッターがHTMLページに挿入されます。<br>
ZAPは、一致するものが見つかる限り、GETリクエストとPOSTリクエストの両方の結果であったページを返します。<br>
ページは、パラメータの順序や既知のCSRFトークンを無視し、すべてのURLとPOSTパラメータが一致する場合にのみ一致します。<br>
履歴に一致するページが見つからない場合、カスタム404ページが返されます。このカスタム404ページには、異なるパラメーターで呼び出された場合や、指定期間外で呼び出された場合に、元のページへのリンクが含まれます。
</p>

<p>このアドオンは、サイトツリーに右クリックメニューを追加します：</p>

<h3>Revisitを有効にする</h3>
<p>
選択すると、使用する開始時刻と終了時刻を尋ねるポップアップが表示されます。<br>
開始時刻は、セッション内の最初のリクエストの時刻がデフォルトとなります。<br>
終了時刻は、セッション内の最後のリクエストの時刻がデフォルトとなります。<br>
時刻の要素（例:「日付」）のいずれかが変更されていない場合、それらの要素は編集不可になります。<br>
ダイアログの OK ボタンが押されると、選択されたサイトに対してRevisit機能が有効になり、サイトツリーのサイトノードに「カレンダー」アイコンが追加されます。
</p>

<h3>Revisitを無効にする</h3>
<p>選択すると、選択されたサイトでRevisit機能が無効になります。 </p>

<h2>API</h2>
<p>このアドオンは以下のAPIエンドポイントをサポートしています：</p>

<pre>
revisit / view / revisitList: Revisitが有効になっているサイトのリストを返します<br>
revisit / action / revisitSiteOn: 指定されたサイトのRevisitをオンにします。 日付は「yyyy/MM/dd HH:mm:ss」形式で指定する必要があります<br>
revisit / action / revisitSiteOff: 指定されたサイトのRevisitをオフにします
</pre>

</body>
</html>
